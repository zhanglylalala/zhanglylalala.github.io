<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://http://www.laughingtree.cn').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":true},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="View The View of “MVC”, contains a lot of views. These are two different “view”s A view is a subclass of UIView, which represents a rectangle area. That rectangle area defines a coordinate space for d">
<meta property="og:type" content="article">
<meta property="og:title" content="05. Drawing">
<meta property="og:url" content="http://http//www.laughingtree.cn/2019/08/03/05.Drawing/index.html">
<meta property="og:site_name" content="LaughingTree">
<meta property="og:description" content="View The View of “MVC”, contains a lot of views. These are two different “view”s A view is a subclass of UIView, which represents a rectangle area. That rectangle area defines a coordinate space for d">
<meta property="og:image" content="http://http/img/05.Drawing01.png">
<meta property="og:image" content="http://http/img/05.Drawing02.png">
<meta property="article:published_time" content="2019-08-03T09:14:50.000Z">
<meta property="article:modified_time" content="2020-05-07T05:36:00.891Z">
<meta property="article:author" content="LiyunZhang">
<meta property="article:tag" content="Application">
<meta property="article:tag" content="Swift">
<meta property="article:tag" content="iOS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://http/img/05.Drawing01.png">

<link rel="canonical" href="http://http//www.laughingtree.cn/2019/08/03/05.Drawing/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>05. Drawing | LaughingTree</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LaughingTree</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">21</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">28</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2019/08/03/05.Drawing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          05. Drawing
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-08-03 17:14:50" itemprop="dateCreated datePublished" datetime="2019-08-03T17:14:50+08:00">2019-08-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-07 13:36:00" itemprop="dateModified" datetime="2020-05-07T13:36:00+08:00">2020-05-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Science/" itemprop="url" rel="index">
                    <span itemprop="name">Computer Science</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Science/Developing-iOS-App-with-Swift-Stanford-CS193p/" itemprop="url" rel="index">
                    <span itemprop="name">Developing iOS App with Swift (Stanford CS193p)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="View"><a href="#View" class="headerlink" title="View"></a>View</h1><ol>
<li>The View of “MVC”, contains a lot of views. These are two different “view”s</li>
<li>A view is a subclass of UIView, which represents a rectangle area. That rectangle area defines a coordinate space for drawing, and for handling touch events</li>
</ol>
<h2 id="Hierarchical"><a href="#Hierarchical" class="headerlink" title="Hierarchical"></a>Hierarchical</h2><ol>
<li>A view has only one superview.<br>In each view there is a <code>var superview: UIView?</code> for us to visit the superview.<br>The superview is an optional because it may not currently in the screen. <a id="more"></a></li>
<li>A view can have multiple subviews.<br>There is also a <code>var subviews: [UIView]</code> for us to visit the subviews.<br>Those later in the array are on top of those earlier.</li>
<li>The hierarchical is most often constructed in Xcode graphically</li>
<li>However, we can also do it by code, such as call <code>addSubview(_ view: UIView)</code> in the superview and <code>removeFromSuperview()</code> in the subview. </li>
<li>The top of the usable view hierarchy is the Controller’s view<br>We can access this view in the Controller by the <code>var view: UIView</code></li>
</ol>
<h2 id="Coordinate-System"><a href="#Coordinate-System" class="headerlink" title="Coordinate System"></a>Coordinate System</h2><h3 id="Four-Types"><a href="#Four-Types" class="headerlink" title="Four Types"></a>Four Types</h3><ol>
<li>It’s always required to use CGFloat instead of Double or Float in this system. </li>
<li>The CGPoint contains two CGFloats x and y. </li>
<li>The CGSize contains two CGFloats width and height. </li>
<li>The CGRect contains one CGPoint and one CGSize. </li>
</ol>
<h3 id="the-Coordinate"><a href="#the-Coordinate" class="headerlink" title="the Coordinate"></a>the Coordinate</h3><ol>
<li>The origin point is in the upper left, and the y-axis vertically point down while the x-axis horizontally point to the right</li>
<li>Pixels are the minimum-sized unit of drawing your device is capable of<br>Points are the units in the coordinate system<br>Most of the time there are 2 pixels per point, but it could be only 1 or even 3<br>We can know how many pixels are there by accessing <code>contentScaleFactor: CGFloat</code> in UIView</li>
<li>In each UIView, there is a <code>var bounds: CGRech</code> that limits where drawing happens.<br>This rectangle contains its own coordinate system of this view</li>
<li>There is also two variables that might be confused with the bounds: center and frame<br>These two variables are not in the coordinate of this view, but in the coordinate of its superview.<br>They are used to tell us where is this view, instead of where should we draw.<br>Given that the view may be rotated in the superview, the origin and size of frame is different. In the coordinate system of the superview, we take the lowest(smallest x) point X and the most left(smallest y) point Y. The origin of frame is (X.y, Y.x), and the size of frame is (X.x, Y.y)<br><img src="/img/05.Drawing01.png" width="40%"><br>For view B, <code>bounds = ((0, 0), (200, 250))</code>, <code>frame = ((140, 65), (320, 320))</code>, <code>center = (300, 225)</code></li>
</ol>
<h2 id="Creat-A-View"><a href="#Creat-A-View" class="headerlink" title="Creat A View"></a>Creat A View</h2><ol>
<li>The first way to creat one is dragging. First drag a view to the main.storyboard, then in the identifier inspector, we select the class we need in the class label<br><img src="/img/05.Drawing02.png" width="30%"></li>
<li>The second way is code. Use <code>let newView = UIView(frame:)</code> to creat a UIView.  We can use the addSubview method to assign this new view a superview</li>
</ol>
<h2 id="Draw-In-Views"><a href="#Draw-In-Views" class="headerlink" title="Draw In Views"></a>Draw In Views</h2><h3 id="Draw"><a href="#Draw" class="headerlink" title="Draw"></a>Draw</h3><ol>
<li>To draw, just create a UIView subclass and override draw(CGRect)</li>
<li>The draw method: override func draw(_ rect: CGRect)</li>
<li>It is legal to draw outside the rect. It is our UIView’s bounds that describe the entire drawing area (the rect is a subarea).</li>
<li>NEVER CALL THE DRAW METHOD EVER. IF WANT TO REDRAW SOME VIEW, CALL THE <code>setNeedDisplay()</code>. DRAW IS A METHOD FOR THE SYSTEM TO CALL!!!</li>
<li>In the draw function, we can use a variable <code>bounds</code> to get the bounds of the current drawing view. </li>
</ol>
<h3 id="Implement-Draw-method"><a href="#Implement-Draw-method" class="headerlink" title="Implement Draw method"></a>Implement Draw method</h3><h4 id="Drawing-Context"><a href="#Drawing-Context" class="headerlink" title="Drawing Context"></a>Drawing Context</h4><ol>
<li>Get a context by <code>UIGraphicsGetCurrentContext()</code> to draw into. </li>
<li>Creat paths (lines, arcs)</li>
<li>Set drawing attributes like colors, fonts, textures, linewidths, linecaps, etc.</li>
<li>Stroke or fill the above-created paths with the given attributes. But you can only do one of those operations, because once you do so, the path will be consumed. <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> context = <span class="type">UIGraphicsGetCurrentContext</span>()</span><br><span class="line">&#123;</span><br><span class="line">  context.move(to: <span class="type">CGPoint</span>)</span><br><span class="line">  context.addline(to: <span class="type">CGPoing</span>)</span><br><span class="line">  context.setLineWidth(<span class="type">CGFloat</span>)</span><br><span class="line">  <span class="type">UIColor</span>.green.setFill()</span><br><span class="line">  <span class="type">UIColor</span>.red.setStrokePath()</span><br><span class="line">  context.strokePath()  <span class="comment">// After this line excuted, this path is consumed</span></span><br><span class="line">  context.fillPath() <span class="comment">// So this line draws nothing</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="Creat-Paths-by-UIBezierPath"><a href="#Creat-Paths-by-UIBezierPath" class="headerlink" title="Creat Paths by UIBezierPath"></a>Creat Paths by UIBezierPath</h4><ol>
<li>First, creat an instance of UIBezierPath.</li>
<li>That instance is not only a path, but also the current point which is originally in (0, 0)</li>
<li>move(to: CGPoint) can move the current point to a specific position without creating a path<br>addLine(to: CGPoint) can creat a path connecting the current point and a specific point, then move the current point to there</li>
<li>close() can creat a path to make the whole graphic a circle</li>
<li>Use the UIColor.setFill() can set the color in the area inside the path, while UIColor.setStroke() can set the color of the path<br>UIColor can be a pre-setted UIColor, such as UIColor.green, or a Color Literal</li>
<li>The property linewidth is the width of the path</li>
<li>After all these things setted properly, use the fill() and stroke() to draw the inside of the path and the path</li>
</ol>
<h4 id="Something-else-about-UIBezierPath"><a href="#Something-else-about-UIBezierPath" class="headerlink" title="Something else about UIBezierPath"></a>Something else about UIBezierPath</h4><ol>
<li>We can initialize the instance of UIBezierPath to a common shape, like<br>let roundedRect = UIBezierPath(roundedRect: CGRect, cornerRadius: CGFloat),<br>let oval = UIBezierPath(ovalIn: CGRect)</li>
<li>Use the addClip() to add a limit to the drawing. Everything outside the limit will be clipped. </li>
<li>Use the contain(_ point: CGPoint) to check if a point is inside the path easily<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> path = <span class="type">UIBezierPath</span>()</span><br><span class="line">path.addArc(withCenter: <span class="type">CGPoint</span>, radius: <span class="type">CGFloat</span>, startAngle: <span class="type">CGPoint</span>, endAngle: <span class="type">CGPoint</span>, clockwise: <span class="type">Bool</span>)</span><br><span class="line">path.lineWidth = <span class="type">CGFloat</span></span><br><span class="line">path.stroke() <span class="comment">// Compare to the context way, after this line excuted, the path still exists</span></span><br><span class="line">path.fill() <span class="comment">// So this line draws inside the path</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="UIColor"><a href="#UIColor" class="headerlink" title="UIColor"></a>UIColor</h1><ol>
<li>A UIColor can be setted by standard colors, like UIColor.red, RGB, HSB or a pattern (using UIImage)</li>
<li>UIColor can have alpha to creat transparent color by using method UIColor.withAlphaComponent(CGFloat)</li>
<li>Alpha is between 0.0 (fully transparent) and 1.0 (fully opaque)</li>
<li>The system use to fully opaque by default. So if you want to draw in your view with transparency, you must let the system know by setting the UIView var opaque = false. You can also set it in the attributes inspector -&gt; drawing -&gt; opaque. </li>
<li>You can make entire UIView transparent with <code>var alpha: CGFloat</code>. </li>
</ol>
<h1 id="Draw-Text"><a href="#Draw-Text" class="headerlink" title="Draw Text"></a>Draw Text</h1><ol>
<li><p>Usually we use a UILabel to put text on screen</p>
</li>
<li><p>To draw in draw(CGRect), use NSAttributedString, like aNSAS.draw(at: aCGRect) or aNSAS.draw(in: CGRect)</p>
</li>
<li><p>To access a range of characters in an NSAttributedString, use NSRange.<br> The initializer of NSRange is NSRange(RangeExpression, in: StringProtocol)</p>
</li>
<li><p>In UILabel, there is a variable named <code>numberOfLines</code>. When its value is not 0, it only has a fix number of lines to use, but when it’s 0, it has lines as many as we need.  </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> text = <span class="type">NSAttributedString</span>(…)</span><br><span class="line">text.draw(at: <span class="type">CGPoint</span>) <span class="comment">// or draw(in: CGRect)</span></span><br><span class="line"><span class="keyword">let</span> textSize: <span class="type">CGSize</span> = text.size <span class="comment">// how much space the string will take up</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> someString = …</span><br><span class="line"><span class="keyword">let</span> range = someString.startIndex ..&lt; someString.firstIndex(of: …)!</span><br><span class="line"><span class="keyword">let</span> nsrange = <span class="type">NSRange</span>(range, <span class="keyword">in</span>: someString)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="Fonts"><a href="#Fonts" class="headerlink" title="Fonts"></a>Fonts</h2><h3 id="Preferred-Fonts"><a href="#Preferred-Fonts" class="headerlink" title="Preferred Fonts"></a>Preferred Fonts</h3><ol>
<li>They are not some specific fonts. There are body font, headline font, title font etc.</li>
<li>Only preferred fonts can adapt their size to the system settings. When users changed their system’s font, only preferred fonts will change in apps</li>
<li>We can select it in the attributes inspector -&gt; Font -&gt; Font. </li>
<li>We can also select it in code. Use the method <code>static func preferredFont(forTextStyle: UIFont.TextStyle) -&gt; UIFont</code> to get a font. The parameter is just like <code>UIFont.TextStyle.headline</code></li>
</ol>
<h3 id="Other-Fonts"><a href="#Other-Fonts" class="headerlink" title="Other Fonts"></a>Other Fonts</h3><ol>
<li>We can creat a UIFont instance with initializer, i.e. <code>UIFont(name: String, size: CGFloat)</code></li>
<li>However, the size of the font we creat with the initializer is fixed. To creat an unfixed one, we can use the UIFontMetrics.<br>First creat an instance of UIFontMetrics like <code>UIFontMetrics(forTextStyle: UIFont.TextStyle)</code>, then we creat a font with the created UIFontMetrics.scaledFont(for: UIFont)<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> metrics = <span class="type">UIFontMetrics</span>(forTextStyle: <span class="type">UIFont</span>.<span class="type">TextStyle</span>)</span><br><span class="line"><span class="keyword">let</span> fontToUse = metrics.scaledFont(<span class="keyword">for</span>: <span class="type">UIFont</span>)</span><br></pre></td></tr></table></figure></li>
<li>We can also use system fonts.<br>static func systemFont(ofSize: CGFloat) -&gt; UIFont<br>static func boldSystemFont(ofSize: CGFloat) -&gt; UIFont</li>
</ol>
<h1 id="Draw-Images"><a href="#Draw-Images" class="headerlink" title="Draw Images"></a>Draw Images</h1><ol>
<li>Use the type UIImage</li>
<li>There are three common initializers for us to use:<br><code>UIImage(name: String)</code>  if we put the image in the Assets.xcassets. Images will have different resolutions for different devices (all managed in Assets.xcassets)<br><code>UIImage(contentsOfFile: String)</code> that String parameter is the path of the image in our computer<br><code>UIImage(data: Data)</code> </li>
<li>We can also draw with <code>UIGraphicsBeginImageContext(CGSize)</code></li>
<li>After that, we can use the UIImage instance we just created to draw by using <code>.draw</code>, we can also use <code>.drawAsPattern</code><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> image: <span class="type">UIImage</span> = ...</span><br><span class="line">image.draw(at point: <span class="type">CGPoint</span>) <span class="comment">// the upper left corner put at aCGPoint </span></span><br><span class="line">image.draw(<span class="keyword">in</span> rect: <span class="type">CGRect</span>) <span class="comment">// scales the image to fit aCGRect </span></span><br><span class="line">image.drawAsPattern(<span class="keyword">in</span> rect: <span class="type">CGRect</span>) <span class="comment">// tiles the image into aCGRect</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="CGAffineTransform"><a href="#CGAffineTransform" class="headerlink" title="CGAffineTransform"></a>CGAffineTransform</h1><ol>
<li><p>This is ussually assigned to <code>transform</code> of a UIView</p>
</li>
<li><p>It has methods in <code>identity</code>. </p>
</li>
<li><p><code>Translate</code> is for move UIView. </p>
</li>
<li><p><code>Rotate</code> is for rotate UIView. </p>
</li>
<li><p>Rotation is based on the origin of the UIView. And somehow it only work when it’s called before other transform. </p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aUIView.transform = <span class="type">CGAffineTransform</span>.identity.rotate(by: <span class="type">CGFloat</span>)</span><br><span class="line">aUIView.transform = <span class="type">CGAffineTransform</span>.identity.translate(x: <span class="type">CGFloat</span>, y: <span class="type">CGFloat</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="When-Bounds-Change"><a href="#When-Bounds-Change" class="headerlink" title="When Bounds Change"></a>When Bounds Change</h1><h2 id="Redraw"><a href="#Redraw" class="headerlink" title="Redraw"></a>Redraw</h2><ol>
<li>By default, when a UIView’s bounds changes, there is no redraw. Instead, the “bits” of the existing image are scaled to the new bounds size</li>
<li>We can control this with a UIView property: <code>var contentMode: UIView.ContentMode</code></li>
<li>There are three kinds of enum in UIView.ContentMode<br>Don’t scale the view, just place the bits (intact) somewhere<br> <code>.left/.right/.top/.bottom/.topRight/.topLeft/.bottomRight/.bottomLeft/.center</code><br> Scale the “bits” of the view. scaleToFill is the default<br> <code>.scaleToFill/.scaleAspectFill/.scaleAspectFit</code><br> Redraw by calling draw(CGRect) again<code>.redraw</code></li>
<li>If this is a view we drag to the main.storyboard, we can set it in attributed inspector</li>
</ol>
<h2 id="Layout"><a href="#Layout" class="headerlink" title="Layout"></a>Layout</h2><ol>
<li>If want to repositionw some of your subviews.</li>
<li>Usually you would set this up using Autolayout constraints. </li>
<li>You can also manually reposition views when bounds change by overriding <code>layoutSubviews()</code></li>
<li>Just like draw function, never call this function ever! You can reassign the layout by calling <code>setNeedLayout()</code></li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Application/" rel="tag"><i class="fa fa-tag"></i> Application</a>
              <a href="/tags/Swift/" rel="tag"><i class="fa fa-tag"></i> Swift</a>
              <a href="/tags/iOS/" rel="tag"><i class="fa fa-tag"></i> iOS</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/08/02/%E6%8E%92%E5%BA%8F/" rel="prev" title="排序">
      <i class="fa fa-chevron-left"></i> 排序
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/08/08/06.Multi-touch/" rel="next" title="06. Multi-touch">
      06. Multi-touch <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#View"><span class="nav-number">1.</span> <span class="nav-text">View</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Hierarchical"><span class="nav-number">1.1.</span> <span class="nav-text">Hierarchical</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Coordinate-System"><span class="nav-number">1.2.</span> <span class="nav-text">Coordinate System</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Four-Types"><span class="nav-number">1.2.1.</span> <span class="nav-text">Four Types</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#the-Coordinate"><span class="nav-number">1.2.2.</span> <span class="nav-text">the Coordinate</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Creat-A-View"><span class="nav-number">1.3.</span> <span class="nav-text">Creat A View</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Draw-In-Views"><span class="nav-number">1.4.</span> <span class="nav-text">Draw In Views</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Draw"><span class="nav-number">1.4.1.</span> <span class="nav-text">Draw</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Implement-Draw-method"><span class="nav-number">1.4.2.</span> <span class="nav-text">Implement Draw method</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Drawing-Context"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">Drawing Context</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Creat-Paths-by-UIBezierPath"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">Creat Paths by UIBezierPath</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Something-else-about-UIBezierPath"><span class="nav-number">1.4.2.3.</span> <span class="nav-text">Something else about UIBezierPath</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UIColor"><span class="nav-number">2.</span> <span class="nav-text">UIColor</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Draw-Text"><span class="nav-number">3.</span> <span class="nav-text">Draw Text</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Fonts"><span class="nav-number">3.1.</span> <span class="nav-text">Fonts</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Preferred-Fonts"><span class="nav-number">3.1.1.</span> <span class="nav-text">Preferred Fonts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Other-Fonts"><span class="nav-number">3.1.2.</span> <span class="nav-text">Other Fonts</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Draw-Images"><span class="nav-number">4.</span> <span class="nav-text">Draw Images</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CGAffineTransform"><span class="nav-number">5.</span> <span class="nav-text">CGAffineTransform</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#When-Bounds-Change"><span class="nav-number">6.</span> <span class="nav-text">When Bounds Change</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Redraw"><span class="nav-number">6.1.</span> <span class="nav-text">Redraw</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Layout"><span class="nav-number">6.2.</span> <span class="nav-text">Layout</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="LiyunZhang"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">LiyunZhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">172</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liyun Zhang</span>
</div>
<div class="BbeiAn-info">
       浙ICP备 -
    <a target="_blank" href="http://www.miitbeian.gov.cn/" style="color:#000000"  rel="nofollow">19047088号-1</a> <!--a标签中增加nofollow属性，避免爬虫出站。-->|
    <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011802001835" style="color:#000000;text-decoration:none;padding-left:30px;background:url(https://s1.ax1x.com/2018/09/29/ilmwIH.png) no-repeat left center" rel="nofollow">浙公网安备 33011802001835号</a>      <!--这里将图标作为了背景，以使得能和后面的文字在同一行-->

</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
