<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://http://www.laughingtree.cn').hostname,
    root: '/',
    scheme: 'Mist',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="LaughingTree">
<meta property="og:url" content="http://http//www.laughingtree.cn/index.html">
<meta property="og:site_name" content="LaughingTree">
<meta property="article:author" content="LiyunZhang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://http//www.laughingtree.cn/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false
  };
</script>

  <title>LaughingTree</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">LaughingTree</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags<span class="badge">29</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories<span class="badge">33</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/07/07/10-Snooping-Implementation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/07/10-Snooping-Implementation/" class="post-title-link" itemprop="url">10. Snooping Implementation</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-07-07 10:24:14 / Modified: 23:53:49" itemprop="dateCreated datePublished" datetime="2022-07-07T10:24:14+08:00">2022-07-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97-CMU-15-418-Stanford-CS149/" itemprop="url" rel="index">
                    <span itemprop="name">并行计算 (CMU 15-418 / Stanford CS149)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Building-with-an-atomic-bus"><a href="#Building-with-an-atomic-bus" class="headerlink" title="Building with an atomic bus"></a>Building with an atomic bus</h1><h2 id="Transaction"><a href="#Transaction" class="headerlink" title="Transaction"></a>Transaction</h2><ol>
<li>There is a bus controller to do arbitration. If a processor wants to communicate on the bus, it has to make a request. If there are simultaneous requests from multiple processors, the arbiter will only grant one of them. </li>
<li>A transaction on an atomic bus generally need four steps.<br>Client is granted bus access (result of arbitration). The client places command on bus (may also place data on bus).<br>Response to command by another bus client placed on bus. Next client obtains bus access (arbitration)</li>
<li>In a multi-processor with atomic bus scenario, no other bus transactions is allowed between issuing address and receiving data when one processor want to read. Also, when flush is occurred, address and data are sent simultaneously, received by memory before any other transaction is allowed. </li>
<li>Both requests from processor and bus require to look the tag on cache.<br>If bus receives priority, during bus transaction, processor is locked out from its own cache.<br>If processor receives priority, during processor cache accesses, cache cannot respond with its snoop result. So it delays other processors even if no sharing of any form is present. </li>
<li>We can alleviate contention to allow simultaneous access by processor-side and snoop controllers through cache duplicate tags or multi-ported tag memory. In either case cost of the additional performance is additional hardware resources.<br>Tags must stay in sync for correctness, so tag update by one controller will still need to block the other controller, but modifying tags is infrequent compared to checking them. </li>
</ol>
<h2 id="Read-miss"><a href="#Read-miss" class="headerlink" title="Read miss"></a>Read miss</h2><ol>
<li>When a cache read miss occurred, memory needs to know what to do. If the line is dirty, memory should not respond. And the loading cache needs to know what to do. If the line is shared, cache should load into S state, not E. </li>
<li>If one cache controller find that the line is shared in its cache, the controller will send a message through the “shared” wire on bus. If that line is dirty, the controller will send a message through the “dirty” wire on bus.<br>Everytime a processor has responded a snoop, the value in “snoop-pending” wire will be lower and $0$ value indicates that all processors have responded. </li>
<li>Memory controller could immediately start accessing DRAM, but not respond (squelch response). If a snoop result from another cache indicates it has copy of most recent data, then cache should provide data, not memory. Memory could assume one of the caches will service request until snoop results are valid. If snoop indicates no cache has data, then memory must respond</li>
</ol>
<h2 id="Write-back"><a href="#Write-back" class="headerlink" title="Write back"></a>Write back</h2><ol>
<li>Write backs involve two bus transactions, incoming line (line requested by processor) and outgoing line (evicted dirty line in cache that must be flushed).<br>Ideally would like the processor to continue as soon as possible, namely it shouldn’t have to wait for the flush to complete. </li>
<li>The solution is write-back buffer.<br>Stick line to be flushed in a write-back buffer. Immediately load requested line to allow processor to continue. Flush contents of write-back buffer at a later time. </li>
<li>If a request of another processor for the address of the data in the write-back buffer appears on the bus, snoop controller must check the write-back buffer addresses in addition to cache tags.<br>If there is a write-back buffer match, the controller will respond with data from write- back buffer rather than cache and cancel outstanding bus access request. </li>
<li>A write commits when a read-exclusive transaction appears on bus and is acknowledged by all other caches. All future reads will reflect the value of this write, even if data from P has not yet been written to P’s dirty cache line, or to memory.<br>Order of transactions on the bus defines the global order of writes in the parallel program. </li>
<li>“Commit” is not “complete”. A write completes when the updated value is in the cache line</li>
</ol>
<h2 id="Race-conditions"><a href="#Race-conditions" class="headerlink" title="Race conditions"></a>Race conditions</h2><ol>
<li>Coherence protocol state transition diagrams assumed that transitions between states were atomic. However, in practice state transitions are not atomic. </li>
<li>We’ve assumed the bus transaction itself is atomic, but all the operations the system performs as a result of a memory operation are not. </li>
<li>Processor, cache, and bus all are resources operating in parallel. They often contend for shared resources: processor and bus contend for cache while caches contend for bus access. </li>
<li>Cache must be able to handle requests while waiting to acquire bus AND be able to modify its own outstanding requests. </li>
<li>To avoid deadlock, processor must be able to service incoming transactions while waiting to issue requests. </li>
<li>To avoid livelock, a write that obtains exclusive ownership must be allowed to complete before exclusive ownership is relinquished. </li>
<li>Multiple processors competing for bus access must be careful to avoid (or minimize likelihood of) starvation. </li>
<li>Performance optimization often entails splitting operations into several, smaller transactions. Splitting costs in more hardware needed to exploit additional parallelism, and care needed to ensure abstractions still hold. </li>
</ol>
<h1 id="Building-with-non-atomic-bus"><a href="#Building-with-non-atomic-bus" class="headerlink" title="Building with non-atomic bus"></a>Building with non-atomic bus</h1><ol>
<li>Problem with atomic bus: bus is idle while response is pending, which decreases effective bus bandwidth. The interconnect is a limited, shared resource in a multi-processor system. So it is important to use it as efficiently as possible. </li>
<li>Bus transactions are split into two transactions, the request and the response. Other transactions can intervene between a transaction’s request and response. </li>
<li>Basic design:<br>Up to eight outstanding requests at a time (system wide)<br>Responses need not occur in the same order as requests. But request order establishes the total order for the system<br>Flow control via negative acknowledgements (NACKs). When a buffer is full, client can NACK a transaction, causing a retry</li>
<li>We can think of a split-transaction bus as two separate buses, a request bus and a response bus.<br>The request bus has lines for command and address. The response bus has lines for data and response tag. Response tag has 3 bits to represent 8 requests. </li>
</ol>
<h2 id="Read-miss-1"><a href="#Read-miss-1" class="headerlink" title="Read miss"></a>Read miss</h2><h3 id="Phase-1"><a href="#Phase-1" class="headerlink" title="Phase 1"></a>Phase 1</h3><ol>
<li>Request arbitration: cache controllers present request for address to bus (many caches may be doing so in the same cycle)</li>
<li>Request resolution: address bus arbiter grants access to one of the requestors. Request table entry allocated for request. Special arbitration lines indicate tag assigned to request. </li>
<li>Bus “winner” places command/address on the bus. </li>
<li>Caches perform snoop: look up tags, update cache state, etc. Memory operation commits here. (no bus traffic)</li>
<li>Caches acknowledge this snoop result is ready, or signal they could not complete snoop in time here. </li>
</ol>
<h3 id="Phase-2"><a href="#Phase-2" class="headerlink" title="Phase 2"></a>Phase 2</h3><ol>
<li>Data response arbitration: responder presents intent to respond to request with tag T. (many caches or memory may be doing so in the same cycle)</li>
<li>Data bus arbiter grants one responder bus access. </li>
<li>Original requestor signals readiness to receive response (or lack thereof: requestor may be busy at this time)</li>
<li>Then in phase 3, Responder places response data on data bus. Caches present snoop result for request with the data. Request table entry is freed. Those 3 actions can happen parallel. </li>
</ol>
<h2 id="Pipelined-transactions"><a href="#Pipelined-transactions" class="headerlink" title="Pipelined transactions"></a>Pipelined transactions</h2><ol>
<li>Request bus and response bus can run parallel. So the response of the last transaction and the request of the next transaction can happen simultaneously. Pipelining may cause out-of-order completion. </li>
<li>Write backs and BusUpg transactions do not have a response component. Write backs acquire access to both request address bus and data bus as part of “request” phase BusUpg does not need any acknowledgement or data. </li>
<li>Avoid conflicting requests by disallowing them. Each cache has a copy of the request table. Caches do not make requests that conflict with requests in the request table. </li>
<li>Caches/memory have buffers for receiving data off the bus. If the buffer fills, client NACKs relevant requests or responses. </li>
<li>In parallel system, we use queues to accommodate variable (unpredictable) rates of production and consumption. As long as workers, on average, produce and consume at the same rate, all workers can run at full rate. Otherwise, some will stall waiting for others to accept or produce new input. </li>
<li>We have queues to track requests and responses between L1 and L2 caches and between L2 cache and bus. One queue is for requests and responses from closer (to processor) to farther (L1 to L2 or L2 to bus), and the other is from farther to closer (L2 to L1 or bus to L2). </li>
<li>This may rise deadlock due to full queue. Outgoing read request (initiated by processor) and incoming read request (due to another cache) both requests generate responses that require space in the other queue (circular dependency)</li>
<li>Sizing all buffers to accommodate the maximum number of outstanding requests on bus is one solution to avoiding deadlock. But a costly one. </li>
<li>Avoiding buffer deadlock with separate request/response queues. Namely, we distinguish whether it is a request or a response.<br>Responses can be completed without generating further transactions. Requests increase queue length But responses reduce queue length. While stalled attempting to send a request, cache must be able to service responses. Responses will make progress, eventually freeing up resources for requests. </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/07/06/09-Directory-Based-Cache-Cohurence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/06/09-Directory-Based-Cache-Cohurence/" class="post-title-link" itemprop="url">09. Directory-Based Cache Cohurence</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-07-06 17:10:17 / Modified: 20:09:21" itemprop="dateCreated datePublished" datetime="2022-07-06T17:10:17+08:00">2022-07-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97-CMU-15-418-Stanford-CS149/" itemprop="url" rel="index">
                    <span itemprop="name">并行计算 (CMU 15-418 / Stanford CS149)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Problems-to-solve"><a href="#Problems-to-solve" class="headerlink" title="Problems to solve"></a>Problems to solve</h1><ol>
<li>The snooping cache coherence protocols relied on broadcasting coherence information to all processors over the chip interconnect. Every time a cache miss occurred, the triggering cache communicated with all other caches, so the interconnect has a heavy traffic. </li>
<li>The efficiency of NUMA system does little good if the coherence protocol can’t also be scaled. Processor accesses nearby memory, but to ensure coherence still must broadcast to all other processors. </li>
<li>One possible solution is hierarchical snooping which arranges nodes in a tree and uses snooping coherence at each level. The interconnects involved in a communication is as low as possible and kept as local as possible. </li>
<li>The structure of hierarchical snooping is relatively simple to build.<br>It uses a tree to reduce the conjunction at the center part, but if the workload is not nicely partitioned, then the root of the network can become a bottleneck.<br>It also has larger latencies than direct communication and does not apply to more general network topologies (meshes, cubes)</li>
</ol>
<h1 id="Directory"><a href="#Directory" class="headerlink" title="Directory"></a>Directory</h1><ol>
<li>Snooping schemes broadcast coherence messages to determine the state of a line in the other caches. An alternative idea is to avoid broadcast by storing information about the status of the line in one place, namely a “directory”. </li>
<li>A line is a region of memory that would be cached as a single block. One directory entry corresponds to one line of memory.<br>In a directory entry, there are a dirty bit that indicates line is dirty in one of the processors’ caches and P presence bits that indicate whether processor P has line in its cache. </li>
<li>The directory is used in NUMA system, each processor has a “local” memory and a directory.<br>Home node of a line is the node with memory holding the corresponding data for the line.<br>Requesting node is the node containing processor requesting line</li>
</ol>
<h2 id="Read-and-write"><a href="#Read-and-write" class="headerlink" title="Read and write"></a>Read and write</h2><ol>
<li>When a read miss happens:<br>The requesting node will send a read miss message to the home node of the requested line. Then home directory checks entry for line.<br>If dirty bit for cache line is OFF, the home node will respond with contents from memory, set presence bit of the requesting node to true to indicate line is cached by the requesting processor.<br>If dirty bit for cache line is ON, the home node will respond with message providing identity of line owner. Requesting node requests data from owner and owner changes state in cache to SHARED (read only), responds to requesting node. Owner also responds to home node, home clears dirty, updates presence bits (line is cached by both the requesting node and owner), updates memory. </li>
<li>When a write miss happens:<br>The requesting node will send a write miss message to the home node of the requested line.<br>The home node will response the sharer ids and data to the requesting node.<br>The requesting node will send invalidation signal to all sharers. After receiving invalidation acks from all sharers, the requesting node can perform write.<br>The home node will update presence bits (line is cached by only the requesting node) and dirty bit. </li>
<li>On reads, directory tells requesting node exactly where to get the line from, either from home node (if the line is clean) or from the owning node (if the line is dirty). Either way, retrieving data involves only point-to-point communication. </li>
<li>On writes, the advantage of directories depends on the number of sharers. In the limit, if all caches are sharing data, all caches must be communicated with, just like broadcast in a snooping protocol. </li>
<li>In general only a few processors share the line, namely only a few processors must be told of writes.  And the expected number of sharers typically increases slowly with P. </li>
</ol>
<h2 id="Reduce-storage-overhead"><a href="#Reduce-storage-overhead" class="headerlink" title="Reduce storage overhead"></a>Reduce storage overhead</h2><ol>
<li>Full bit vector directory storage is proportional to $P\times M$ where $P$ is the number of nodes and $M$ is the number of lines in memory. The storage overhead of directory is too much, and we do not want it to be DRAM since we need it to run fast.</li>
<li>One way to reduce storage overhead is to optimize on full-bit vector.<br> Increase cache line size to reduce $M$ term.<br> Group multiple processors into a single directory node to reduce $P$ term. We could use snooping protocol to maintain coherence among processors in a node, directory across nodes. </li>
<li>Another way is to limit sharer pointer. Since data is expected to only be in a few caches at once, storage for a limited number of pointers per directory entry should be sufficient. Only need a list of the nodes holding a valid copy of the line. </li>
<li>When an overflow in limited pointer schemes occurs, we can revert to broadcast if broadcast mechanism exists. If no broadcast mechanism present on machine, newest sharer replaces an existing one (must invalidate line in the old sharer’s cache)</li>
<li>One more way is through sparse directory.<br> The majority of memory is not resident in cache. And to carry out coherence protocol the system only needs sharing information for lines that are currently in some cache. So most directory entries are empty most of the time.<br> We can add a tag for each directory line to indicate the memory held in some cache. The overhead is now $P\times C$ where $C$ is the number of lines in each cache. </li>
</ol>
<h2 id="Reduce-number-of-message-sent"><a href="#Reduce-number-of-message-sent" class="headerlink" title="Reduce number of message sent"></a>Reduce number of message sent</h2><ol>
<li>In a read miss to dirty line, there are five network transactions in total. But only four of the transactions are on the critical path. </li>
<li>In intervention forward, home node requests data from owner node (intervention read). After the owner has responded, home node updates directory, and responds to requesting node with data.<br>Four network transactions in total (less traffic). But all four of the transactions are on the critical path. </li>
<li>In request forwarding, home node requests the owner to sent data to the requesting node. Then the owner will send data to requesting node and home node at the same time.<br>Four network transactions in total, with only three of the transactions are on the critical path. </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/07/03/12-Feedback/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/03/12-Feedback/" class="post-title-link" itemprop="url">12. Feedback</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-07-03 15:37:32" itemprop="dateCreated datePublished" datetime="2022-07-03T15:37:32+08:00">2022-07-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-07-04 11:47:02" itemprop="dateModified" datetime="2022-07-04T11:47:02+08:00">2022-07-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>A continuous-loop system with a discrete-time feedback control loop is as followed<br><img src="/img/12-Feedback/1.png" width="40%"></li>
<li>For a discrete-time feedback loop, we can move the continuous to discrete-time converter right after $H(s)$ and the interpolating system after the summer.<br><img src="/img/12-Feedback/2.png" width="40%"></li>
<li>In a basic feedback system, we may ignore the converter and interpolating system.<br><img src="/img/12-Feedback/3.png" width="40%"><br>The system is usually a negative feedback, namely signal fed back is subtracted from the input.<br>The output of the adder is error signal, indicating that it’s the difference between the signal fed back and the input to the overall system. </li>
<li>We can label the Laplace transform of the output $y(t)$ to be $Y(s)$ which is also the input of $G(s)$. Hence, the Laplace transform of $r(t)$ is $Y(s)G(s)$. The Laplace transform of $e(t)=x(t)-r(t)$ is $X(s)-Y(s)G(s)$. The output of $H(s)$ is $[X(s)-Y(s)G(s)]H(s)$ which is also $Y(s)$.<br>Namely, we have $[X(s)-Y(s)G(s)]H(s)=Y(s)\Leftrightarrow Q(s)=\frac{Y(s)}{X(s)}=\frac{H(s)}{1+G(s)H(s)}$, which is the system function in the open loop forward path divided by $1$ plus the loop gain.<br>In the discrete-time case, the equation is similar $Q(z)=\frac{H(z)}{1+G(z)H(z)}$. </li>
<li>In the amplifier design, we use $G(s)=k$, namely $Q(s)=\frac{H(s)}{1+kH(s)}$. If $kH(s)&gt;&gt;1$, then $Q(s)\simeq\frac1k$. </li>
<li>In the inverse design, we use $H(s)=k$ and $G(s)$ being the system $P(s)$ which we want to inverse. $Q(s)=\frac{k}{1+kP(s)}$. If $kP(s)&gt;&gt;1$, then $Q(s)\simeq\frac{1}{P(s)}$. </li>
<li>To stabilize an unstable continuous-time system $H(s)$, we need to choose $G(s)$ so that $Re\{s_i\}&lt;0$ where $s_i$ are the roots of $1+G(s)H(s)=0$.<br>In the discrete-time case, we need to choose $G(z)$ so that $|z_i|&lt;1$ where $z_i$ are the roots of $1+G(z)H(z)=0$.<br>A feedback system can also unstabilize a stable system. </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/07/02/11-Mapping-of-Continuous-Time-Filter-To-Discrete-Time-Filter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/07/02/11-Mapping-of-Continuous-Time-Filter-To-Discrete-Time-Filter/" class="post-title-link" itemprop="url">11. Mapping of Continuous-Time Filter To Discrete-Time Filter</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-07-02 16:52:21 / Modified: 18:03:00" itemprop="dateCreated datePublished" datetime="2022-07-02T16:52:21+08:00">2022-07-02</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li>We want to map a continuou-time function $H_c(s)$, $\sum^N_{k=0}a_k\frac{d^ky(t)}{dt^k}=\sum^M_{k=0}b_k\frac{d^kx(t)}{dt^k}$, to a discrete-time function $H_d(z)$, $\sum^N_{k=0}c_ky[n-k]=\sum^N_{k=0}d_kx[n-k]$. </li>
<li>When mapping, we want the mapping function can work correctly in frequency domain $H_c(s)\to H_d(z)$, in time domain $h_c(t)\to h_d[n]$,  and map the $j\omega$-axis in s-plane to the unit circle in the z-plane. We also want the mapped system to be stable if the continuous-time system is stable. </li>
<li>One way of mapping is through difference.<br>In the backward difference, we map $\frac{dy(t)}{dt}$ to $\frac{y[n]-y[n-1]}{T}$. In the frequency domain, the mapping function maps $sY(s)$ to $\frac{1-z^{-1}}{T}Y(z)$. Compare the two functions to find that $H_d(z)=H_c(s)|_{s=\frac{1-z^{-1}}{T}}$.<br>In the forward difference, we map $\frac{dy(t)}{dt}$ to $\frac{y[n+1]-y[n]}{T}$. In the frequency domain, the mapping function maps $sY(s)$ to $\frac{z-1}{T}Y(z)$. Compare the two functions, $H_d(z)=H_c(s)|_{z=\frac{z-1}{T}}$. </li>
<li>In the backward difference, we are not mapping the $j\omega$-axis to the unit circle but a little circle inside the unit circle. If the continuous-time filter has a very sharp resonance, the discrete-time filter might have that resonance broadened considerably because the poles are so far away from the unit circle.<br>In backward difference, stability is guarenteed. Forward difference even cannot guarentee stability. </li>
<li>Another way of mapping is impulse invariance.<br>We map the discrete-time as samples of the continuous-time signal, namely $h_d[n]=h_c(nT)$. In the frequency domain, $H_d(e^{j\Omega})=\frac1T\sum^{+\infty}_{k=-\infty}H_c[j(\frac\Omega T-\frac{2\pi k}{T})]$. </li>
<li>The impulse invariance keeps the same basic shape but linearly scale the frequency axis. And superposition of these added together at multiples of $2\pi$ in discrete time frequency.<br>But if the filter is not an ideal filter, it may cause aliasing. </li>
<li>A last way to map is bilinear transform. We map the frequency function by $s=\frac2T\frac{1-z^{-1}}{1+z^{-1}}$, namely $z=\frac{1+\frac{T}{2}s}{1-\frac{T}{2}s}$. </li>
<li>Impulse invariance corresponds to a linear mapping between the two frequency axes, except for the issue of aliasing, which limits its usefulness to filter designs or for mapping continuous time filters that are band limited.<br>Bilinear transformation avoids aliasing, but has the disadvantage that it represents a nonlinear mapping from the continuous-time filter to the discrete-time filter. This nonlinear distortion is perfectly acceptable if we are designing filters that have flat frequency characteristics. It is not acceptable if we had a linear frequency characteristic that we wanted to map to a discrete-time filter and end up with a linear frequency characteristic. </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/06/29/10-The-Z-transform/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/29/10-The-Z-transform/" class="post-title-link" itemprop="url">10. The Z-transform</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-29 12:18:17" itemprop="dateCreated datePublished" datetime="2022-06-29T12:18:17+08:00">2022-06-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-07-02 17:50:40" itemprop="dateModified" datetime="2022-07-02T17:50:40+08:00">2022-07-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Z-transform"><a href="#Z-transform" class="headerlink" title="Z-transform"></a>Z-transform</h1><ol>
<li>In discrete-time Fourier transform, we choose $e^{j\Omega n}$ to be the basic signal. In z-transform, we want to use a more general signal $z^n$ as the basic signal, where $z=re^{j\Omega}$.<br>The response of $z^n$ is $\sum^{+\infty}_{k=-\infty}h[k]z^{n-k}=z^n\sum^{+\infty}_{k=-\infty}h[k]z^{-k}=H(z)z^n$, where $H(z)=\sum^{+\infty}_{n=-\infty}h[n]z^{-n}$. </li>
<li>We can define that the z-transform of $x[n]$ is $X(z)=\sum^{+\infty}_{n=-\infty}x[n]e^{-n}$ and call $x[n]$ and $X(z)$ as a z-transform pair. </li>
<li>Compare the definition of z-transform and Fourier transform, we can know that if $z=e^{j\Omega}$, then z-transform is identical to Fourier transform. Namely, $X(z)|_{z=e^{j\Omega}}=F\{x[n]\}$.<br>We use the notation of $F\{x[n]\}=X(e^{j\Omega})$ to denote the Fourier transform of $x[n]$. </li>
<li>$X(re^{j\Omega})=\sum^{+\infty}_{n=-\infty}x<a href="re^{j\Omega}">n</a>^n=\sum^{+\infty}_{n=-\infty}x[n]r^{-n}e^{-j\Omega n}$. Compare this equation with the definition of Fourier transform, we know that $X(z)=F\{x[n]r^{-n}\}$. </li>
<li>The ROC does not contain poles. </li>
<li>Unlike Laplace transform, the ROC of $X(z)$ consists of a ring in the z-plane centered about the origin. </li>
<li>$F\{x[n]\}$ converges $\Leftrightarrow$ ROC includes the unit circle in the z-plane. </li>
<li>If $x[n]$ is finite duration, then ROC is entire z-plane with the possible exception of $z=0$ or $z=\infty$.<br>If $x[n]$ is right-sided and $|z|=r_0$ is in ROC, then all finite values of $z$ for which $|z|&gt;r_0$ are in ROC.<br>If $x[n]$ is right-sided and $X(z)$ is rational, then ROC is outside the outermost pole.<br>If $x[n]$ is left-sided and $|z|=r_0$ is in ROC, then all finite values of $z$ for which $0&lt;|z|&lt;r_0$ are in ROC.<br>If $x[n]$ is left-sided and $X(z)$ is rational, then ROC is inside the innermost pole.<br>If $x[n]$ is two-sided and $|z|=r_0$ is in ROC, then ROC is a ring in the z-plane which includes the circle $|z|=r_0$. </li>
<li>One way to calculate the inverse z-transform is by Fourier transform.<br>Since $X(z)=F\{x[n]r^{-n}\}$, the inverse of $x[n]r^{-n}=\frac1{2\pi}\int_{2\pi}X(z)e^{j\Omega n}d\Omega$. Thus $x[n]=\frac1{2\pi}\int_{2\pi}X(z)(re^{j\Omega})^nd\Omega=\frac1{2\pi}\int_{2\pi}X(z)z^nd\Omega$. $dz=jre^{j\Omega}d\Omega=jzd\Omega$, which make the equation $x[n]=\frac1{2\pi j}\oint X(z)z^{n-1}dz$. </li>
<li>Another way is to decompose $X(z)$ into partial fractions which we know the algebraic expression and ROC.<br>  One last way is to decompose $X(z)$ into power series sum of $z^{-n}$. Then the $x[n]$ is the coefficients of $z^{-n}$. </li>
</ol>
<h1 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h1><ol>
<li>Linearity: $ax_1[n]+bx_2[n]$ and $aX_1[n]+bX_2[n]$ are a z-transform pair, and its ROC is at least $R_1\cap R_2$. </li>
<li>Time shifting: $x[n-n_0]$ and $z^{-n_0}X(z)$ are a z-transform pair, and its ROC remains the same as $x[n]$. </li>
<li>Convolution property: $x_1[n]\ast x_2[n]$ and $X_1(z)X_2(z)$ are a z-transform pair, and its ROC is at least $R_1\cap R_2$. </li>
<li>The system is stable $\Leftrightarrow$ $\sum^{+\infty}_{n=-\infty}|h[n]|&lt;\infty$. And the Fourier transform $F\{h[n]\}$ converges $\Leftrightarrow$ $\sum^{+\infty}_{n=-\infty}|h[n]|&lt;\infty$. A system is stable $\Leftrightarrow$ its Fourier transform $F\{h[n]\}$ converges.<br>Hence, a system is stable $\Leftrightarrow$ ROC of $H(z)$ includes unit circle in z-plane. </li>
<li>If a system is causal, then $h[n]$ is right-sided and thus ROC of $H(z)$ is outside of the outmost pole.<br>A system is causal and linear $\Leftrightarrow$ all poles are inside the unit circle. </li>
<li>Similar to Laplace transform, the same $X(z)$ expression may have different ROC and thus different $x[n]$. </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/06/28/09-The-Laplace-Transform/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/28/09-The-Laplace-Transform/" class="post-title-link" itemprop="url">09. The Laplace Transform</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-28 16:48:48" itemprop="dateCreated datePublished" datetime="2022-06-28T16:48:48+08:00">2022-06-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-06-29 12:18:36" itemprop="dateModified" datetime="2022-06-29T12:18:36+08:00">2022-06-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Laplace-transform"><a href="#Laplace-transform" class="headerlink" title="Laplace transform"></a>Laplace transform</h1><ol>
<li>In Fourier transform, we choose $e^{j\omega t}$ to be the basic signal. In Laplace transform, we would like to use a more general signal $e^{st}$ with $s=\sigma+j\omega$.<br>The response of $e^{st}$ is $e^{st}\ast h(t)=\int^{+\infty}_{-\infty}h(\tau)e^{s(t-\tau)}d\tau=e^{st}\int^{+\infty}_{-\infty}h(\tau)e^{-s\tau}d\tau=H(s)e^{st}$. </li>
<li>Similar to Fourier transform, we can define the Laplace transform as $X(s)=\int^{+\infty}_{-\infty}x(t)e^{-st}dt$ and call $X(s)$ and $x(t)$ as a Laplace transform pair. </li>
<li>If we set $\sigma=0$, namely $s=j\omega$, then Laplace transform is actually Fourier transform. Here we denote the Fourier transform as $F\{x(t)\}$ since it can be determined by $x(t)$. So $X(s)|_{s=j\omega}=X(j\omega)=F\{x(t)\}$</li>
<li>The Laplace transform is $X(\sigma+j\omega)=\int^{+\infty}_{-\infty}x(t)e^{-(\sigma+j\omega)t}dt=\int^{+\infty}_{-\infty}x(t)e^{-\sigma t}e^{-j\omega t}dt$. Compare this equation with the definition of Fourier transform, we can easily find that $X(s)=F\{x(t)e^{-\sigma t}\}$.<br>For some $x(t)$ that is not absolutely integrable, we can choose a reasonable $\sigma$ and multiply it by the exponential factor $e^{-\sigma t}$ to make it absolutely integrable.<br>So Laplace transform may converge when Fourier transform does not. </li>
<li>If we can decompose $X(s)$ into $X(s)=\frac{N(s)}{D(s)}$, then $X(s)$ is rational.<br>In a complex s-plane, poles of $X(s)$ is $D(s)=0$ while zeros of $X(s)$ is $N(s)=0$. </li>
<li>If a certain $X(s)$ is convergent for a certain $s=\sigma_0+j\omega_0$, then $X(s)$ is convergent for any other $\omega$.<br>In the s-plane, region of convergence (ROC) of $X(s)$ consists a strip parallel to the $j\omega$-axis.<br>$F\{x(t)\}$ converges $\Leftrightarrow$ ROC includes the $j\omega$-axis in the s-plane. </li>
<li>The ROC is a connected region. </li>
<li>If $x(t)$ is a finite duration (zero except some time interval), then ROC is the entire s-plane<br>If $x(t)$ is right-sided and $Re\{s\}=\sigma_0$ is in ROC, then all values for which $Re\{s\}&gt;\sigma_0$ are in the ROC.<br>If $x(t)$ is right-sided and $X(s)$ is rational, then ROC is to the right of the rightmost pole.<br>If $x(t)$ is left-sided and $Re\{s\}=\sigma_0$ is in ROC, then all values for which $Re\{s\}&lt;\sigma_0$ are in the ROC.<br>If $x(t)$ is left-sided and $X(s)$ is rational, then ROC is to the left of the leftmost pole.<br>If $x(t)$ is both-sided and $Re\{s\}=\sigma_0$ is in ROC, then ROC is a strip in the s-plane. </li>
</ol>
<h1 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h1><ol>
<li>Linearity: $ax_1(t)+bx_2(t)$ and $aX_1(t)+bX_2(t)$ are a Laplace transform. </li>
<li>Differential: $\frac{dx(t)}{dt}$ and $sH(s)$ are a Laplace transform. </li>
<li>Convolution property: $x_1(t)\ast x_2(t)$ and $X_1(t)X_2(t)$ are a Laplace transform. </li>
<li>If a system is stable, its ROC must contain the $j\omega$-axis.<br>If a system is causal, then its impulse response is right-sided, thus its ROC must be right to the right most pole.<br>If a system is linear and causal, its all poles must in left-half s-plane. </li>
<li>In some system, we can determine its $H(s)$, but that $H(s)$ may correspond to several algebraic expression. Then we should combine the stability and causality to determine the ROC and hence determine the expression. </li>
<li>If we cascade $N$ systems together, the Laplace transform of the overall system is $H(s)=H_1(s)H_2(s)\dots H_N(s)$.<br>If we parallel $N$ systems and add their outputs together, the Laplace transform of the overall system is $H(s)=H_1(s)+H_2(s)+\dots+H_N(s)$. </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/06/28/08-Sampling/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/28/08-Sampling/" class="post-title-link" itemprop="url">08. Sampling</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-06-28 11:01:03 / Modified: 16:44:19" itemprop="dateCreated datePublished" datetime="2022-06-28T11:01:03+08:00">2022-06-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Continuous-time-sampling"><a href="#Continuous-time-sampling" class="headerlink" title="Continuous-time sampling"></a>Continuous-time sampling</h1><ol>
<li><p>With $p(t)$ being impulse train, $x(t)p(t)$ is samples of $x(t)$.<br>Sampling theorem: given equally spaced samples of $x(t)$ and $x(t)$ is band limited ($X(\omega)=0$ for $|\omega|&gt;\omega_M$), if the sampling frequency $\omega_s=\frac{2\pi}{T}&gt;2\omega_M$, then $x(t)$ is uniquely recoverable with lowpass filter.<br>We can process continuous-time signal in the discrete-time way. </p>
</li>
<li><p>The condition $\omega_s&gt;2\omega_M$ is to avoid overlap in frequency domain. If $\omega_s&lt;2\omega_M$, aliasing will cause errors in reconstructing signals. Aliasing will reconstruct a low frequency signal instead of the real high frequency signal. </p>
</li>
<li><p>The signal after sampling is $x_p(t)=x(t)p(t)=x(t)\sum^{+\infty}_{n=-\infty}\delta(t-nT)=\sum^{+\infty}_{n=-\infty}x(nT)\delta(t-nT) $.<br> $P(\omega)=\frac{2\pi}{T}\sum^{+\infty}_{k=-\infty}\delta(\omega-k\frac{2\pi}{T}) $, and $X_p(\omega)=\frac{1}{2\pi}[X(\omega)\ast P(\omega)]=\frac{1}{T}\sum^{+\infty}_{k=-\infty}X(\omega-k\frac{2\pi}{T}) $. </p>
</li>
</ol>
<h2 id="Reconstruct-signal"><a href="#Reconstruct-signal" class="headerlink" title="Reconstruct signal"></a>Reconstruct signal</h2><ol>
<li>The sampling signal is $x_p(t)=\sum^{+\infty}_{n=-\infty}x(nT)\delta(t-nT) $, which can be seen as the linear combination of $\delta(t-nT)$ with coefficients being $x(nT)$.<br>If $h(t)$ is the filter impulse response, then the reconstructed signal should be $x_r(t)=x_p(t)\ast h(t)=\sum^{+\infty}_{n=-\infty}x(nT)h(t-nT) $. For an ideal lowpass filter with cutoff frequency $\omega_c$, $h(t)=T\frac{\omega_c}{\pi}sinc(\frac{\omega_ct}{\pi})=T\frac{\omega_c}{\pi}\frac{sin(\omega_ct)}{\omega_ct} $<br>Hence the reconstructed signal is linear combination of $h(t-nT)$ with coefficients being $x(nT)$</li>
<li>Zero-order hold: held the sample value until the next sampling to form a staircase curve. Its impulse response is $h(t)=\left\{\begin{matrix}1&amp;0&lt;t&lt;T\\0&amp;otherwise \end{matrix} \right.$</li>
<li>First-order hold: fit an interpolated curve between two sample values, which is a straight line. Its impulse response is a triangular signal with height of $1$ and bottom in $[-T,T]$. </li>
</ol>
<h2 id="Conversion-between-continuous-time-and-discrete-time"><a href="#Conversion-between-continuous-time-and-discrete-time" class="headerlink" title="Conversion between continuous-time and discrete-time"></a>Conversion between continuous-time and discrete-time</h2><ol>
<li><p>After sampling, we acquire a sampled signal of impulse train. But that is still not a discrete-time signal, and a conversion of impulse train to discrete-time sequence is needed. </p>
</li>
<li><p>The sampled signal is $x_p(t)=\sum^{+\infty}_{n=-\infty}x(nT)\delta(t-nT) $, and its Fourier transform is $X_p(t)=\sum^{+\infty}_{n=-\infty}x(nT)e^{-j\omega nT} $.<br>If we want the discrete-time signal to be $x[n]=x(nT)$, then its Fourier transform is $X(\Omega)=\sum^{+\infty}_{n=-\infty}x[n]e^{-j\Omega n} $. </p>
</li>
<li><p>Compare the two Fourier transform equation, we know that if $\Omega=\omega T$, then $X_p(t)=X(\Omega)$. Thus, we have $X(\Omega)=X(\omega)|_{\omega=\Omega/ T}=X(\Omega/T)$. </p>
</li>
<li><p>In the time domain, this step is only relabelling the impulses to discrete-time sequence, namely dividing the time-axis by $T$.<br>In the frequency domain, sampling will replicate the original frequency and this step will multiply the frequency-axis by $T$. </p>
</li>
<li><p>If we want to convert from discrete-time to continuous-time, we only need to undo all the operations aforementioned.<br>In the frequency domain, first divide the frequency-axis by $T$, then use a lowpass filter to remove replicated frequency. </p>
</li>
<li><p>Even the discrete-time filter cutoff is fixed, changing the sampling frequency will still change the cutoff frequency of the equivalent continuous-time filter. </p>
</li>
</ol>
<h1 id="Discrete-time-sampling"><a href="#Discrete-time-sampling" class="headerlink" title="Discrete-time sampling"></a>Discrete-time sampling</h1><ol>
<li>The sampling impulse sequence is $p[n]=\sum^{+\infty}_{k=-\infty}\delta(n-kN)$ and its Fourier transform is $P(\Omega)=\frac{2\pi}{N}\sum^{+\infty}_{k=-\infty}\delta(\Omega-k\frac{2\pi}{N})$.<br>The sampled signal is $x_p[n]=x[n]p[n]$, and its Fourier transform is $X_p(\Omega)=\frac1{2\pi}\int_{2\pi}P(\theta)X(\Omega-\theta)d\theta=\frac1N\sum^{N-1}_{k=0}X(\Omega-k\frac{2\pi}{N})$</li>
<li>The sampling theorem also applies to discrete-time sampling. In the aformentioned equations, the sampling frequency is $\Omega_s=\frac{2\pi}{N}$. </li>
<li>The discrete-time sample will set some values to zero. And storing those zeros is inefficient since we can easily insert them back given sampling frequency.<br>A decimated sequence removes those zeros and only keeps the values associated with the original sequence. Decimating is to pick out every $n^{th}$ sample and end up with a collaped sequence. </li>
<li>Define the decimated sequence $x_d[n]=x[nN]=x_p[nN]$. Substitute $n=mN$ into the Fourier transform $X_p(\Omega)=\sum^{+\infty}_{n=-\infty}x_p[n]e^{-j\Omega n}=\sum^{+\infty}_{m=-\infty}x_p[mN]e^{-j\Omega mN}$. Given the Fourier transform of $x_d[n]$ is $X_d(\Omega)=\sum^{+\infty}_{m=-\infty}x_d[m]e^{-j\Omega m}$, compare the two equations to get that $X_d(\Omega)=X_p(\Omega/N)$.<br>So, in frequency domain, decimating will scale the frequency-axis by $N$, namely multiply the frequency-axis by $N$. </li>
<li>Downsampling is to decrease the sampling rate (sampling frequency). In time domain, t simply removes some values from the sampled sequence. In frequency domain, it<br>Upsampling is to recovering a signal after it has been decimated. To do so, must convert the decimated sequency to sampled sequence, and then use a lowpass filter to acquire the signal before decimating. </li>
<li>If we want to decrease the sampling rate by an integer $k$, namely $T_2=2T_1$ we need to downsample and decimate by $1:k$. If we want to increate the sampling rate by an integer $k$, namely $T_2=\frac12T_1$, we need to upsample and interpolate by $k:1$.<br>If we want to change the sampling rate by $T_2=\frac{P}QT_1$, we need to upsample and interpolate by $Q:1$, then downsample and decimate by $1:P$. </li>
</ol>
<h1 id="Frequency-domain-sampling"><a href="#Frequency-domain-sampling" class="headerlink" title="Frequency domain sampling"></a>Frequency domain sampling</h1><ol>
<li>Similar to time domain sampling, frequency domain sampling also multiplies the frequency function $X(\omega)$ by a sample function $P(\omega)=\sum^{+\infty}_{k=-\infty}\delta(\omega-k\omega_0)$. The sampled frequency function is $\tilde{X}(\omega)=X(\omega)P(\omega)=\sum^{+\infty}_{k=-\infty}X(k\omega_0)\delta(\omega-k\omega_0)$. </li>
<li>In frequency domain, $\tilde{X}(\omega)$ is a train of impulse response.<br>In time domain, it replicates $x(t)$ with period of $\frac{2\pi}{\omega_0}$ and scale by $\frac{1}{\omega_0}$. </li>
<li>To recover the original signal, we just multiply $\tilde{x}(t)$ with a time window to retain only one period. </li>
<li>The aformentioned operations also apply to discrete-time signals. </li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/06/25/07-Modulation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/25/07-Modulation/" class="post-title-link" itemprop="url">07. Modulation</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-25 14:56:13" itemprop="dateCreated datePublished" datetime="2022-06-25T14:56:13+08:00">2022-06-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-06-28 11:22:18" itemprop="dateModified" datetime="2022-06-28T11:22:18+08:00">2022-06-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Continuous-time-modulation"><a href="#Continuous-time-modulation" class="headerlink" title="Continuous-time modulation"></a>Continuous-time modulation</h1><h2 id="Synchronization"><a href="#Synchronization" class="headerlink" title="Synchronization"></a>Synchronization</h2><ol>
<li>In the modulation property, $x(t)c(t)$ and $\frac{1}{2\pi}[X(\omega)\ast C(\Omega)]$ are a Fourier transform pair. We call $x(t)$ the modulating signal, $c(t)$ the carrier, and $y(t)=x(t)c(t)$ the modulated signal. </li>
<li>The complex exponential carrier is $c(t)=e^{j(\omega_ct+\theta_c)}$. It will shift $X(\omega)$ by $\omega_c$. If we want to recover $x(t)$ from $y(t)$, we only need to divide $y(t)$ by $c(t)$ or multiply $y(t)$ with $e^{-j(\omega_ct+\theta_c)}$. </li>
<li>One practical usage of complex exponential carrier is to combine with filters. We can build a filter with fixed center frequency. Modulate the input signal before passing through the filter to shift the desired frequency to the passband, and demodulate the output of filter to recover the original frequency position.<br>Building a fixed center frequency filter and modulators is easier and cheaper than building a bandpass filter with varying center frequency. </li>
<li>The sinusoidal carrier is $c(t)=cos(\omega_ct+\theta_c)$. $c(t)=cos(\omega_ct+\theta_c)=\frac12e^{j(\omega_ct+\theta)}+\frac12e^{-j(\omega_ct+\theta_c)}$, so we can know that this carrier will replicate $X(\omega)$, and shift one by $\omega_c$ and the other by $-\omega_c$.<br>To demodulate, we need to modulate the output with the same carrier again and pass through a filter with scaling. </li>
<li>Multiplexing: Use modulation to shift spectra to different frequency band without overlapping, and then add them together.<br>Demultiplexing: When we have received the multiplexing signal and want to separate the one signal we need, we can demultiplex with bandpass filter, and demodulate according to the carrier. </li>
<li>The aformentioned modulations are all synchronization modultaion, namely the modulator and demodulator have a synchronization in both frequency and phase. </li>
</ol>
<h2 id="Asynchronization"><a href="#Asynchronization" class="headerlink" title="Asynchronization"></a>Asynchronization</h2><ol>
<li><p>However, building a synchronization demodulator can be expensive, and we would want a cheap asynchronization demodulator. </p>
</li>
<li><p>Normally, we can achieve a pretty good effect with a simple diode RC circuit. </p>
</li>
<li><p>Assume that the envelope of signal $y(t)$ is the desired demodulated signal $x(t)$. The demodulator tends to generate a full-wave rectified version of the signal (rectifies the negative component of input).<br>The simple solution is to make sure that $x(t)$ is always positive, namely we add a large enough constant $A$ to $x(t)$, so that $x(t)+A$ is always positive.<br>So in the modulation part, we need to add a $Ac(t)$ to $x(t)c(t)$ to form the modulated signal. The carrier is injected to the modulated signal. </p>
</li>
<li><p>With larger $A$, the demodulated signal tends to be flat, and easy to track it with circuit.<br>Yet, with larger $A$, the part of injection of carrier is larger, and it is not an information carrying part of the signal. So it represents some inefficiency in transmission.<br>The injection of a carrier is simply to make the demodulation for an asynchronous demodulator to make the demodulation easier. So the tradeoff is that if the transmission is simpler, then the demodulator is more complicated, and if the demodulator is more simpler, the transmission is more inefficient and takes more energy. </p>
</li>
<li><p>Another issue is that after modulated by a sinusoidal carrier, the frequency signal is replicated, and we might want to remove the redundence.<br>The solution is that we can use a highpass filter to obtain a single-sideband signal which only the upper sidebands are retained or use a lowpass filter to obtain a single-sideband signal which only the lower sidebands are retained. </p>
</li>
</ol>
<h1 id="Discrete-Time-Modulation"><a href="#Discrete-Time-Modulation" class="headerlink" title="Discrete-Time Modulation"></a>Discrete-Time Modulation</h1><ol>
<li><p>Complex exponential carrier is $c[n]=e^{j(\Omega_cn+\theta_c)}$. It will shift the frequency by $\Omega_c$. </p>
</li>
<li><p>Simusoidal carrier is $c[n]=cos \Omega_cn=\frac12e^{j\Omega_cn}+\frac12e^{-j\Omega_cn}$. It will replicate the frequency, and shift one by $\Omega_c$ another one by $-\Omega_c$. </p>
</li>
<li><p>The demodulation of simusoidal carrier is to modulate the output with the same carrier again and pass through a filter with scaling. </p>
</li>
<li><p>Another common used carrier is $c[n]=(-1)^n=e^{j\pi n}$. It will shift the frequency by $\pi$, which actually interchanges the low frequency and the high frequency.<br>Its demodulator is itself. We can use it to implement a highpass filter with a lowpass filter. Before the filter, we modulate the signal with $c[n]$, and demodulate it after the filter. </p>
</li>
<li><p>Pulse carrier of continuous-time is $p(t)$ has non-zero values of width $\Delta$ in every period $T$. In discrete-time case, $p[n]$ has non-zero values of width $M$ in every period $N$.<br>In time domain perspective, the output only keep the part where $p(t)$ or $p[n]$ is non-zero. In frequency domain perspective, the frequency is replicated and scaled.<br>If the original frequency is band limited, to demodulate a pulse carrier, we only need to pass the signal through a low frequency filter and scale it. </p>
</li>
<li><p>In time division multiplexing, it is required that the time slopts are not overlapped. Every $\Delta$ or $M$ is a time slot, and we can transmit different signal with different pulse carrier.<br>Luckily, the bandwidth of frequency after modulated is not limited by $\Delta$. Hence, theoretically, we can set $\Delta$ as small as possible to maximum the number of signals we can transmit at the same time.<br>However, the height in the frequency domain is proportional to $\Delta$. So with smaller $\Delta$, the less energy there is and noise problem might be worse. </p>
</li>
<li><p>To solve the problem, we can fix the area of each time slot, namly that each time slot has width of $\Delta$ and height of $\frac1\Delta$. As $\Delta\to 0$, $p(t)$ becomes an impulse train. </p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/06/24/06-Filtering/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/24/06-Filtering/" class="post-title-link" itemprop="url">06. Filtering</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-24 18:29:49" itemprop="dateCreated datePublished" datetime="2022-06-24T18:29:49+08:00">2022-06-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-06-25 15:03:35" itemprop="dateModified" datetime="2022-06-25T15:03:35+08:00">2022-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ol>
<li><p>According to the convolution property, if $H(\omega)$ or $H(\Omega)$ is nonzero, that frequency is passed to the output. If $H(\omega)$ or $H(\Omega)$ is zero, that frequency will not contribute to the output.<br>Then band of nonzero part is called passband, while the band of zero part is called stopband. </p>
</li>
<li><p>For continuous-times case, if the passband is around zero, that filter is a lowpass filter. If the stopband is around zero, that filter is a highpass filter. Combine a lowpass filter and a highpass filter to get a bandpass filter which passes the frequency in the middle. </p>
</li>
<li><p>For discrete-time case, if the passband is around $2\pi m$, that filter is a lowpass filter. If the passband is around $(2m+1)\pi$, that filter is a highpass filter. Also combine a lowpass filter and a highpass filter can get a bandpass filter whose pass band is between $2m\pi$ and $(2m+1)\pi$. </p>
</li>
<li><p>The amplitudes of ideal filters are either 1 or 0.<br>Their impulse response and the step response both have an oscillation which might be undesirable.<br>Furthermore, their impulse responses are even, and have tails that go off to $+\infty$ and $-\infty$, namely the ideal filters are non-causal. Thus we cannot build an ideal filter that restrictly operates on real time. </p>
</li>
<li><p>In a non-ideal filter, instead of a very rapid transition from passband to stopband, there would be a more gradual transition with a passband cutoff frequency and a stopband cutoff frequency.<br>Also instead of having an exactly flat characteristic in the stopband and passband, a certain amount of ripple is allowed.<br>Normally, the sharper you attempt to make the cutoff, the more expensive the filter becomes. </p>
</li>
<li><p>Non-recursive (moving average) filter: $y[n]=\frac{1}{N+M+1}\sum^{M}_{k=-N}x[n-k]$<br>Recursive filter: $\sum^N_{k=0}a_ky[n-k]=\sum^M_{k=0}b_kx[n-k]$</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://http//www.laughingtree.cn/2022/06/23/05-Discrete-Time-Fourier-Analysis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="LiyunZhang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="LaughingTree">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/23/05-Discrete-Time-Fourier-Analysis/" class="post-title-link" itemprop="url">05. Discrete-Time Fourier Analysis</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-23 18:01:02" itemprop="dateCreated datePublished" datetime="2022-06-23T18:01:02+08:00">2022-06-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-06-25 15:03:49" itemprop="dateModified" datetime="2022-06-25T15:03:49+08:00">2022-06-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学与技术</span>
                  </a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E4%BF%A1%E5%8F%B7%E4%B8%8E%E7%B3%BB%E7%BB%9F-MIT-6-007/" itemprop="url" rel="index">
                    <span itemprop="name">信号与系统 (MIT 6.007)</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Fourier-series"><a href="#Fourier-series" class="headerlink" title="Fourier series"></a>Fourier series</h1><ol>
<li><p>As the continuous-time case, we choose the basic signal to be $\phi_k[n]=e^{j\Omega_kn}$. From convolution, we know that its response is $e^{j\Omega_kn}\sum^{+\infty}_{r=-\infty}h[r]e^{-j\Omega_kr}=H(\Omega_k)e^{j\Omega_kn}$</p>
</li>
<li><p>If $x[n]$ is periodic with period ans fundamental frequency being $N$ and $\Omega_0=\frac{2\pi}{N}$, then we try to represent $x[n]=\sum_ka_ke^{jk\Omega_0n}$. Give that, in discrete-time complex exponential, $e^{jk\Omega_0n}=e^{j(k+N)\Omega_0n}$, we don’t need $k$ from $-\infty$ to $+\infty$. Instead, we only want $k$ in a period range $N$, like $[0, N-1]$.<br>Thus, the synthesis equation is $x[n]=\sum_{k=<N>}a_ke^{j(k+N)\Omega_0n}$</p>
</li>
<li><p>To solve $a_k$, we can actually see it as $N$ equations with $N$ unknowns. And finally the analysis equation is $a_k=\frac1N\sum_{<N>}x[n]e^{jk\Omega_0n}$</p>
</li>
<li><p>We need infinity number of coefficients in continuous-time, while only finite number is required in discrete-time. </p>
</li>
<li><p>$x[n]$ and $e^{jk\Omega_0n}$ are both periodic in $n$, like in continuous-time.<br>$e^{jk\Omega_0n}$ and $a_k$ are both periodic in $k$, while continuous-time is not the case. </p>
</li>
<li><p>In discrete-time, the Fourier serise will always convergent. However, in continuous-time, this is conditional. </p>
</li>
</ol>
<h1 id="Fourier-transform"><a href="#Fourier-transform" class="headerlink" title="Fourier transform"></a>Fourier transform</h1><ol>
<li><p>For an aperiodic singal $x[n]$, we can construct a periodic signal $\tilde{x}[n]$ with period being $N$ and one period being $x[n]$.<br> The Fouier series of $\tilde{x}[n]=\sum_{<N>}\frac{1}{2\pi}X(k\Omega_0)e^{jk\Omega_0n}\Omega_0$ and $X(k\Omega_0)=Na_k=\sum^{N/2}_{k=-N/2}\tilde{x}[n]e^{-jk\Omega_0n}$. </p>
</li>
<li><p>As $N\to\infty$, $\Omega_0\to0$ and $\tilde{x}[n]\to x[n]$, the synthesis equation is $x[n]=\frac{1}{2\pi}\int_{2\pi}X(\Omega)e^{j\Omega n}d\Omega$ and the analysis equation is $X(\Omega)=\sum^{+\infty}_{k=-\infty}x[n]e^{-j\Omega n}$<br>$x[n]$ and $X(\Omega)$ are a Fourier transform pair. </p>
</li>
<li><p>The discrete-time Fourier transform lacks the duality in continuous-time since $x[n]$ is a discrete-time signal while $X(\Omega)$ is a continous-frequency signal. </p>
</li>
<li><p>If $\tilde{x}[n]$ is periodic and $x[n]$ represents a period, then the Fourier series coefficients of $\tilde{x}[n]=\frac{1}{N}\times$ samples of Fourier transform of $x[n]$, namely $a_k=\frac1NX(\Omega)|_{\Omega=\frac{2\pi k}{N}}$. </p>
</li>
<li><p>If $\tilde{x}[n]$ is periodic, the Fourier transform of $\tilde{x}[n]$ is defined as impulse train, $\tilde{X}(\Omega)=\sum^{+\infty}_{k=-\infty}2\pi a_k\delta(\Omega-k\Omega_0)$</p>
</li>
</ol>
<h1 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h1><ol>
<li>Periodic: $X(\Omega)=X(\Omega+2\pi m)$</li>
<li>Symmetry:<br>If $x[n]$ is real, then $X(-\Omega)=X^*(\Omega)$<br>The real part of $X(\Omega)$ and its amplitude is an even function, while the imaginary part $X(\Omega)$ and its phase is an odd function. </li>
<li>Time shifting in time function corresponds in phase change in Fourier transform, $x[n-n_0]$ and $e^{-j\Omega n_0}X(\Omega)$ are a Fourier transform pair. </li>
<li>Phase shifting in time function corresponds in frequency shifting in Fourier transform, $e^{j\Omega_0n}x[n]$ and $X(\Omega-\Omega_0)$ are a Fourier transform pair. </li>
<li>Linearity: $ax_1[n]+bx_2[n]$ and $aX_1[n]+bX_2[n]$ are a Fourier transform pair. </li>
<li>Parseval’s relation: $\sum^{+\infty}_{k=-\infty}|x[n]|^2=\frac1{2\pi}\int_{2\pi}|X(\Omega)|^2d\Omega $</li>
<li>Convolution: $h[n]\ast x[n]$ and $H(\Omega)X(\Omega)$ are a Fourier transform pair. $H(\Omega)$ is the frequency response and the Fourier transform of impulse response $h[n]$<br>If the input signal is $e^{j\Omega_0n}$, the output should be $e^{j\Omega_0n}H(\Omega_0)$</li>
<li>The lowpass filter $H(\Omega)$ should have nonzero values not only around $0$, but also around $2\pi m$.<br>The highpass filter $H(\Omega)$ should have nonzero values around every $(2k+1)\pi$.<br>The frequency of input is in $[-\pi, \pi]$</li>
<li>Modulation: $x_1[n]x_2[n]$ and $\frac{1}{2\pi}\int_{2\pi}X_1(\theta)X_2(\Omega-\theta)d\theta$</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/23/">23</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="LiyunZhang"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">LiyunZhang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">223</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liyun Zhang</span>
</div>
<div class="BbeiAn-info">
       浙ICP备 -
    <a target="_blank" href="http://www.miitbeian.gov.cn/" style="color:#ffffff"  rel="nofollow">19047088号-1</a> <!--a标签中增加nofollow属性，避免爬虫出站。-->|
    <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33011802001835" style="color:#ffffff;text-decoration:none;padding-left:30px;background:url(https://s1.ax1x.com/2018/09/29/ilmwIH.png) no-repeat left center" rel="nofollow">浙公网安备 33011802001835号</a>      <!--这里将图标作为了背景，以使得能和后面的文字在同一行-->

</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    

  

</body>
</html>
